## 闭包

匿名函数（Anonymous functions），也叫闭包函数（_closures_），允许 临时创建一个没有指定名称的函数。最经常用作回调函数（[callback](http://php.net/manual/zh/language.pseudo-types.php#language.types.callback)）参数的值。当然，也有其它应用的情况。

闭包的两个特点：

1、作为一个函数变量的一个引用 - 当函数返回时，其处于激活状态。  
2、一个闭包就是当一个函数返回时，一个没有释放资源的栈区。

其实上面两点可以合成一点,就是闭包函数返回时,该函数内部变量处于激活状态,函数所在栈区依然保留。

```
<?php
# PHP闭包的一种方式
$closure = function($name) {
    return sprintf('Hello %s',$name);
};

echo $closure("world");
```

之所以可以这么调用$closure变量，是因为这个变量的值是一个闭包 ，闭包对象实现了\_\_invoke（）魔术方法

> 当尝试以调用函数的方式调用一个对象时，[\_\_invoke\(\)](http://php.net/manual/zh/language.oop5.magic.php#object.invoke) 方法会被自动调用。



